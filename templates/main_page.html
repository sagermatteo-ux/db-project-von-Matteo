{% extends "base.html" %}
{% block content %}

<ul class="todo-list">
    {% for todo in todos %}
    <li class="todo-item">
        <form method="POST" class="todo-complete-form">

            <input type="hidden" name="id" value="{{ todo.id }}">

            <input
                type="checkbox"
                class="todo-checkbox"
                onchange="this.form.action='/complete'; this.form.submit();">

            <label class="todo-content">
                {{ todo.content }}<br>
                <small>üìç {{ todo.location }} | Kategorie: {{ todo.cat }}</small>
            </label>

            {% if todo.user_id != current_user.id %}
                {% if todo.requested %}
                    <button class="btn btn-danger" disabled>
                        Anfrage geschickt
                    </button>
                {% else %}
                    <button
                        type="submit"
                        class="btn btn-success"
                        formaction="{{ url_for('rent', material_id=todo.id) }}">
                        Mieten
                    </button>
                {% endif %}
            {% endif %}
        </form>
    </li>
    {% else %}
        <div>...Keine ver√∂ffentlichten Gegenst√§nde‚ùó</div>
    {% endfor %}
</ul>

<div class="todo-form">
    <form method="POST">
        <input name="contents" required placeholder="Neuer Gegenstand">
        <select name="category" required>
            <option value="" disabled selected>Kategorie</option>
            <option value="buecher">B√ºcher</option>
            <option value="taschenrechner">Taschenrechner</option>
            <option value="lineal_geodreieck">Lineal & Geodreieck</option>
            <option value="zirkel">Zirkel</option>
            <option value="schreibmaterial">Schreibmaterial</option>
        </select>
        <input name="location" required placeholder="Ort">
        <button class="btn btn-primary">Hinzuf√ºgen</button>
    </form>
</div>

{% endblock %}


  